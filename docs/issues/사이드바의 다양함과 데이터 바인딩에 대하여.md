## 사이드바의 다양함과 데이터 바인딩에 대하여

> **사이드바**는  '사용자의 편이'이다
>
> *by **Beaver Bae*** (1995 ~ )

<br>

나는 공통 프로젝트인 THISIS ~~다른 애들은 Locker지만...~~ 와 특화 프로젝트인 ColorPOOL을 하는 동안 사이드바를 사용하지 않았다. **사이드바를 사용하지 않았던 이유**를 정리하자면 다음과 같다.

- 모바일에는 사이드바를 넣을 만한 **공간적 여유가 부족**하다
- **귀찮다**
- 라우팅을 굳이 따로 할 필요가 없다

사이드바를 사용하지 않았던 이유는 책임회피성에 가깝다. 그저 귀찮고 프론트엔드에 그려낼 만한 공간이 부족했기 때문에, 라우팅을 할 필요성을 찾지 못했기 때문이다. 그렇다면 **ColorPOOl md에서 사이드바를 사용했던 이유**는 무엇일까?

- **배색 정보를 확인**하기에 적합하다
- 발표자료의 **슬라이드 미리보기**에 적합하다

ColorPOOL md가 추구하는 Microsoft PowerPoint의 슬라이드 단위 UI/UX를 벤치마킹하면서 좌측의 사이드바 공간이 필요해졌기 때문에 메인, 색 선택, 마크다운 작성, 결과창에서의 **사이드바 공간의 효용성**이 이전 프로젝트에 비해 **상대적으로 높아졌다**.



#### 랜딩 페이지와 색 선택 페이지에서의 사이드바

갓기업 LG 유플러스에 취직한 재원이는 우리를 떠나기 전 **랜딩 페이지와 색 선택 페이지 작업**을 해주었다. 하지만 그녀가 간과한 것이 있었으니 랜딩 페이지와 색 선택 페이지의 사이드바 **컴포넌트가 동일**하다는 것이었다. 동일한 컴포넌트를 사용할 경우 **어떤 문제점**이 있을 수 있을까?

- 랜딩 페이지일 경우와 색 선택 페이지일 **경우를 나누어서 데이터 바인딩**을 해야 한다
- 잘 못 꼬이면 사이드바의 배색에 **아무것도 나타나지 않는 현상**이 생길 수 있다

동일한 컴포넌트, Store를 사용하면서 다양한 이슈들이 발생했다. 이슈들의 가장 큰 원인은 **컴포넌트와 Store를 공유**한다는 것이었고, **리팩토링 과정을 거쳐 이들을 분리**하면서 이슈들을 해결할 수 있었다.



#### 발표 자료 작성에서의 사이드바

발표 자료를 작성하는 페이지에 들어와서는 동일한 위치에 다른 사이드바가 들어가게 된다. 슬라이드 단위로 발표 자료를 작성하는 Power Point처럼 **슬라이드 미리보기가 좌측**에 들어가게 되었다. 여기서 또 이슈들이 발생하게 된다.

- 발표 자료를 작성하는 컴포넌트와는 **글씨 크기, 간격이 달라야 한다**
- 마크다운을 이해하는 **라이브러리를 적용**해야 한다
- 미리보기에서 **글자를 바꾸거나 드래그할 수 없어야** 한다(마치 이미지처럼)
- **실시간으로** 작성되는 마크다운을 **사이드바에 적용**되게 하고 싶다

사이드바에서 발생한 이슈들을 해결하기 위해 우리가 선택한 방법은 다음과 같다

- 작은 크기의 슬라이드에 맞춰 **새롭게 CSS를 정의**한다
- **markdown-it을 사용**하여 마크다운 문법을 읽는다
- 사이드바의 슬라이드 위에 **레이어를 덧붙인다**
- **5초의 interval 기간**에 작성된 발표자료를 **store에 저장**하고 store에 저장된 마크다운 내용을 **사이드바에서 읽어**온다

간단하지만 이렇게 해결하기까지 많은 고민이 필요했다. 특히 CSS를 새롭게 정의하는 것 자체가 **노가다**에 가까웠기 때문이다. 하지만 다른 해결 방법을 찾을 수 없었기 때문에 CSS를 새롭게 정의하는 것으로 이슈를 해결할 수 있었다. **~~노가다 최고~~**



#### 결과창에서의 사이드바

결과창에서는 더 이상 발표 자료를 수정할 수 없다. 결과창에서는 사이드 바를 슬라이드 위치를 보는 **인덱스**처럼 사용했다. 사이드 바의 **슬라이드를 누르면** 발표 자료 preview의 **해당 슬라이드 위치로 이동**되게 구현을 하면서 사용자에게 사이드 바를 활용할 수 있도록 했다.